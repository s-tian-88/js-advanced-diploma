(()=>{"use strict";var e={1402:(e,n,t)=>{t.d(n,{Z:()=>_e});var r=t(8081),a=t.n(r),l=t(3645),o=t.n(l),i=t(1667),s=t.n(i),c=new URL(t(2852),t.b),p=new URL(t(2924),t.b),d=new URL(t(197),t.b),u=new URL(t(3503),t.b),b=new URL(t(310),t.b),h=new URL(t(2675),t.b),f=new URL(t(4380),t.b),m=new URL(t(5530),t.b),g=new URL(t(3804),t.b),v=new URL(t(335),t.b),L=new URL(t(7920),t.b),w=new URL(t(5741),t.b),x=new URL(t(9423),t.b),y=new URL(t(3391),t.b),E=new URL(t(6979),t.b),$=new URL(t(9775),t.b),U=new URL(t(5457),t.b),k=new URL(t(8714),t.b),R=new URL(t(9599),t.b),C=new URL(t(7771),t.b),G=new URL(t(2269),t.b),S=new URL(t(6486),t.b),T=new URL(t(37),t.b),z=new URL(t(8437),t.b),M=new URL(t(4494),t.b),O=new URL(t(3080),t.b),N=new URL(t(1741),t.b),D=new URL(t(6097),t.b),I=new URL(t(2403),t.b),P=new URL(t(6304),t.b),A=new URL(t(7186),t.b),j=new URL(t(4884),t.b),q=new URL(t(585),t.b),H=new URL(t(3301),t.b),Z=new URL(t(4231),t.b),_=new URL(t(8240),t.b),B=new URL(t(3467),t.b),F=new URL(t(2309),t.b),J=new URL(t(287),t.b),Q=new URL(t(9612),t.b),W=new URL(t(7353),t.b),K=new URL(t(6688),t.b),V=new URL(t(5930),t.b),X=new URL(t(2521),t.b),Y=o()(a()),ee=s()(c),ne=s()(p),te=s()(d),re=s()(u),ae=s()(b),le=s()(h),oe=s()(f),ie=s()(m),se=s()(g),ce=s()(v),pe=s()(L),de=s()(w),ue=s()(x),be=s()(y),he=s()(E),fe=s()($),me=s()(U),ge=s()(k),ve=s()(R),Le=s()(C),we=s()(G),xe=s()(S),ye=s()(T),Ee=s()(z),$e=s()(M),Ue=s()(O),ke=s()(N),Re=s()(D),Ce=s()(I),Ge=s()(P),Se=s()(A),Te=s()(j),ze=s()(q),Me=s()(H),Oe=s()(Z),Ne=s()(_),De=s()(B),Ie=s()(F),Pe=s()(J),Ae=s()(Q),je=s()(W),qe=s()(K),He=s()(V),Ze=s()(X);Y.push([e.id,`:root {\n  --cell-size: 64px;\n}\n\nhtml, body {\n  height: 100%;\n  margin: 0;\n}\n\nbody {\n  background: #000;\n  font-size: 16px;\n}\n\n.btn {\n  display: inline-block;\n  font-weight: 400;\n  color: #212529;\n  background-color: #f8f9fa;\n  text-align: center;\n  vertical-align: middle;\n  padding: .375rem .75rem;\n  font-size: 1rem;\n  line-height: 1.5;\n  border-radius: .25rem;\n  transition: color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;\n  border: none;\n}\n\n.controls {\n  text-align: center;\n  margin: 50px 0;\n}\n\n.board-container {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-wrap: wrap;\n}\n\n.board {\n  display: grid;\n  grid-template-columns: repeat(8, 1fr);\n  grid-column-gap: 2px;\n  grid-row-gap: 2px;\n}\n\n.cell {\n  position: relative;\n}\n\n.cell.selected::before {\n  content: '';\n  display: block;\n  border: 4px;\n  border-radius: 32px;\n  box-sizing: border-box;\n  width: var(--cell-size);\n  height: var(--cell-size);\n  opacity: 0.9;\n  position: absolute;\n}\n\n.cell.selected-yellow::before {\n  border-color: #ff0;\n  border-style: solid;\n}\n\n.cell.selected-green::before {\n  border-color: #0f0;\n  border-style: dashed;\n}\n\n.cell.selected-red::before {\n  border-color: #f00;\n  border-style: dashed;\n}\n\n.board.prairie {\n  --map-tile-top-left-url: url(${ee});\n  --map-tile-top-url: url(${ne});\n  --map-tile-top-right-url: url(${te});\n  --map-tile-bottom-left-url: url(${re});\n  --map-tile-bottom-url: url(${ae});\n  --map-tile-bottom-right-url: url(${le});\n  --map-tile-left-url: url(${oe});\n  --map-tile-right-url: url(${ie});\n  --map-tile-center-url: url(${se});\n}\n\n.board.desert {\n  --map-tile-top-left-url: url(${ce});\n  --map-tile-top-url: url(${pe});\n  --map-tile-top-right-url: url(${de});\n  --map-tile-bottom-left-url: url(${ue});\n  --map-tile-bottom-url: url(${be});\n  --map-tile-bottom-right-url: url(${he});\n  --map-tile-left-url: url(${fe});\n  --map-tile-right-url: url(${me});\n  --map-tile-center-url: url(${ge});\n}\n\n.board.arctic {\n  --map-tile-top-left-url: url(${ve});\n  --map-tile-top-url: url(${Le});\n  --map-tile-top-right-url: url(${we});\n  --map-tile-bottom-left-url: url(${xe});\n  --map-tile-bottom-url: url(${ye});\n  --map-tile-bottom-right-url: url(${Ee});\n  --map-tile-left-url: url(${$e});\n  --map-tile-right-url: url(${Ue});\n  --map-tile-center-url: url(${ke});\n}\n\n.board.mountain {\n  --map-tile-top-left-url: url(${Re});\n  --map-tile-top-url: url(${Ce});\n  --map-tile-top-right-url: url(${Ge});\n  --map-tile-bottom-left-url: url(${Se});\n  --map-tile-bottom-url: url(${Te});\n  --map-tile-bottom-right-url: url(${ze});\n  --map-tile-left-url: url(${Me});\n  --map-tile-right-url: url(${Oe});\n  --map-tile-center-url: url(${Ne});\n}\n\n.map-tile {\n  width: var(--cell-size);\n  height: var(--cell-size);\n}\n\n.map-tile-top-left {\n  background: var(--map-tile-top-left-url);\n}\n\n.map-tile-top {\n  background: var(--map-tile-top-url);\n}\n\n.map-tile-top-right {\n  background: var(--map-tile-top-right-url);\n}\n\n.map-tile-bottom-left {\n  background: var(--map-tile-bottom-left-url);\n}\n\n.map-tile-bottom {\n  background: var(--map-tile-bottom-url);\n}\n\n.map-tile-bottom-right {\n  background: var(--map-tile-bottom-right-url);\n}\n\n.map-tile-left {\n  background: var(--map-tile-left-url);\n}\n\n.map-tile-right {\n  background: var(--map-tile-right-url);\n}\n\n.map-tile-center {\n  background: var(--map-tile-center-url);\n}\n\n.character {\n  width: var(--cell-size);\n  height: var(--cell-size);\n  position: absolute;\n  z-index: 99;\n}\n\n.character.generic {\n  background: url(${De});\n}\n\n.character.bowman {\n  background: url(${Ie});\n}\n\n.character.daemon {\n  background: url(${Pe});\n}\n\n.character.magician {\n  background: url(${Ae});\n}\n\n.character.swordsman {\n  background: url(${je});\n}\n\n.character.undead {\n  background: url(${qe});\n}\n\n.character.vampire {\n  background: url(${He});\n}\n\n.character.zombie {\n  background: url(${Ze});\n}\n\n.health-level {\n  top: 2px;\n  left: 7px;\n  position: absolute;\n  width: 50px;\n  height: 4px;\n  background: #000;\n}\n\n.health-level-indicator {\n  height: 4px;\n}\n\n.health-level-indicator-high {\n  background: #0f0;\n}\n\n.health-level-indicator-normal {\n  background: #ff0;\n}\n\n.health-level-indicator-critical {\n  background: #f00;\n}\n\n.damage {\n  position: absolute;\n  width: var(--cell-size);\n  text-align: center;\n  z-index: 999;\n  color: #f00;\n  font-weight: bold;\n  animation: 500ms fade ease-out;\n}\n\n@keyframes fade {\n  from {\n    opacity: 0;\n    top: calc(var(--cell-size) * 0.5);\n    font-size: 1rem;\n  }\n  to {\n    opacity: 1;\n    top: -20px;\n    font-size: 1.5rem;\n  }\n}\n`,""]);const _e=Y},3645:e=>{e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t="",r=void 0!==n[5];return n[4]&&(t+="@supports (".concat(n[4],") {")),n[2]&&(t+="@media ".concat(n[2]," {")),r&&(t+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),t+=e(n),r&&(t+="}"),n[2]&&(t+="}"),n[4]&&(t+="}"),t})).join("")},n.i=function(e,t,r,a,l){"string"==typeof e&&(e=[[null,e,void 0]]);var o={};if(r)for(var i=0;i<this.length;i++){var s=this[i][0];null!=s&&(o[s]=!0)}for(var c=0;c<e.length;c++){var p=[].concat(e[c]);r&&o[p[0]]||(void 0!==l&&(void 0===p[5]||(p[1]="@layer".concat(p[5].length>0?" ".concat(p[5]):""," {").concat(p[1],"}")),p[5]=l),t&&(p[2]?(p[1]="@media ".concat(p[2]," {").concat(p[1],"}"),p[2]=t):p[2]=t),a&&(p[4]?(p[1]="@supports (".concat(p[4],") {").concat(p[1],"}"),p[4]=a):p[4]="".concat(a)),n.push(p))}},n}},1667:e=>{e.exports=function(e,n){return n||(n={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),n.hash&&(e+=n.hash),/["'() \t\n]|(%20)/.test(e)||n.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},8081:e=>{e.exports=function(e){return e[1]}},3379:e=>{var n=[];function t(e){for(var t=-1,r=0;r<n.length;r++)if(n[r].identifier===e){t=r;break}return t}function r(e,r){for(var l={},o=[],i=0;i<e.length;i++){var s=e[i],c=r.base?s[0]+r.base:s[0],p=l[c]||0,d="".concat(c," ").concat(p);l[c]=p+1;var u=t(d),b={css:s[1],media:s[2],sourceMap:s[3],supports:s[4],layer:s[5]};if(-1!==u)n[u].references++,n[u].updater(b);else{var h=a(b,r);r.byIndex=i,n.splice(i,0,{identifier:d,updater:h,references:1})}o.push(d)}return o}function a(e,n){var t=n.domAPI(n);t.update(e);return function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap&&n.supports===e.supports&&n.layer===e.layer)return;t.update(e=n)}else t.remove()}}e.exports=function(e,a){var l=r(e=e||[],a=a||{});return function(e){e=e||[];for(var o=0;o<l.length;o++){var i=t(l[o]);n[i].references--}for(var s=r(e,a),c=0;c<l.length;c++){var p=t(l[c]);0===n[p].references&&(n[p].updater(),n.splice(p,1))}l=s}}},569:e=>{var n={};e.exports=function(e,t){var r=function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}},9216:e=>{e.exports=function(e){var n=document.createElement("style");return e.setAttributes(n,e.attributes),e.insert(n,e.options),n}},3565:(e,n,t)=>{e.exports=function(e){var n=t.nc;n&&e.setAttribute("nonce",n)}},7795:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var n=e.insertStyleElement(e);return{update:function(t){!function(e,n,t){var r="";t.supports&&(r+="@supports (".concat(t.supports,") {")),t.media&&(r+="@media ".concat(t.media," {"));var a=void 0!==t.layer;a&&(r+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),r+=t.css,a&&(r+="}"),t.media&&(r+="}"),t.supports&&(r+="}");var l=t.sourceMap;l&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(l))))," */")),n.styleTagTransform(r,e,n.options)}(n,e,t)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)}}}},4589:e=>{e.exports=function(e,n){if(n.styleSheet)n.styleSheet.cssText=e;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(e))}}},6486:(e,n,t)=>{e.exports=t.p+"ca33186c46613723bdba.png"},8437:(e,n,t)=>{e.exports=t.p+"af6e401894c9d2931c80.png"},37:(e,n,t)=>{e.exports=t.p+"342f328c2099a3f01435.png"},1741:(e,n,t)=>{e.exports=t.p+"e68576d2bb80f97630ce.png"},4494:(e,n,t)=>{e.exports=t.p+"fd0988ffb8ed4c0e5c42.png"},3080:(e,n,t)=>{e.exports=t.p+"d16604b5bc257810dede.png"},9599:(e,n,t)=>{e.exports=t.p+"2441afa400e407c6ffb1.png"},2269:(e,n,t)=>{e.exports=t.p+"704e4cf41cd6d6531cc5.png"},7771:(e,n,t)=>{e.exports=t.p+"f4f97ee08f3ac0cc48f3.png"},2309:(e,n,t)=>{e.exports=t.p+"fa1d75ea7b3415023654.png"},287:(e,n,t)=>{e.exports=t.p+"2316f142d0e86610c5cd.png"},3467:(e,n,t)=>{e.exports=t.p+"8a66620e154ab8378397.png"},9612:(e,n,t)=>{e.exports=t.p+"42bb31aa32c38c15f816.png"},7353:(e,n,t)=>{e.exports=t.p+"f8052ab4d5c15fba67af.png"},6688:(e,n,t)=>{e.exports=t.p+"8278de65fd53b804e48e.png"},5930:(e,n,t)=>{e.exports=t.p+"4c1cef114818df1266b5.png"},2521:(e,n,t)=>{e.exports=t.p+"35c4e39a9abc5a58b94c.png"},9423:(e,n,t)=>{e.exports=t.p+"caa37a3b7bf44d26494a.png"},6979:(e,n,t)=>{e.exports=t.p+"eee964d183968d2b2bdc.png"},3391:(e,n,t)=>{e.exports=t.p+"381ca0d8d6f6a61f84f6.png"},8714:(e,n,t)=>{e.exports=t.p+"6463eba7f78d6b00376b.png"},9775:(e,n,t)=>{e.exports=t.p+"75afa3dfcc229d2661ea.png"},5457:(e,n,t)=>{e.exports=t.p+"5d111e54d152252bf68a.png"},335:(e,n,t)=>{e.exports=t.p+"0cd02c4a0a56017824ed.png"},5741:(e,n,t)=>{e.exports=t.p+"279cd4320d6def250d62.png"},7920:(e,n,t)=>{e.exports=t.p+"f92d983233c35202bfdb.png"},7186:(e,n,t)=>{e.exports=t.p+"83339257387f3d890b79.png"},585:(e,n,t)=>{e.exports=t.p+"27cba682fb672f40e9f4.png"},4884:(e,n,t)=>{e.exports=t.p+"b264ced4156c6b70647a.png"},8240:(e,n,t)=>{e.exports=t.p+"7759d68ba8440229d0be.png"},3301:(e,n,t)=>{e.exports=t.p+"c6ffdc3c0e753296ebc4.png"},4231:(e,n,t)=>{e.exports=t.p+"94b745faad95f0c444bc.png"},6097:(e,n,t)=>{e.exports=t.p+"71991f6b7ecb9f41c98d.png"},6304:(e,n,t)=>{e.exports=t.p+"bf49f6724543655a4c7c.png"},2403:(e,n,t)=>{e.exports=t.p+"d0c836c80e6eeded0322.png"},3503:(e,n,t)=>{e.exports=t.p+"65182b1caac2318886c1.png"},2675:(e,n,t)=>{e.exports=t.p+"bd70ef553a4a3dfbc12a.png"},310:(e,n,t)=>{e.exports=t.p+"2986aa435679435026eb.png"},3804:(e,n,t)=>{e.exports=t.p+"80b6104b2aee7701ac9a.png"},4380:(e,n,t)=>{e.exports=t.p+"6170769d07e5e6ae29e8.png"},5530:(e,n,t)=>{e.exports=t.p+"35cb054c2abcc4a9b468.png"},2852:(e,n,t)=>{e.exports=t.p+"1893155306263d4babe6.png"},197:(e,n,t)=>{e.exports=t.p+"f8952f94e3b84ba8a2a2.png"},2924:(e,n,t)=>{e.exports=t.p+"e550c1066bd1a6155295.png"}},n={};function t(r){var a=n[r];if(void 0!==a)return a.exports;var l=n[r]={id:r,exports:{}};return e[r](l,l.exports,t),l.exports}t.m=e,t.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},t.d=(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),(()=>{var e;t.g.importScripts&&(e=t.g.location+"");var n=t.g.document;if(!e&&n&&(n.currentScript&&(e=n.currentScript.src),!e)){var r=n.getElementsByTagName("script");if(r.length)for(var a=r.length-1;a>-1&&!e;)e=r[a--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e})(),t.b=document.baseURI||self.location.href,t.nc=void 0,(()=>{var e=t(3379),n=t.n(e),r=t(7795),a=t.n(r),l=t(569),o=t.n(l),i=t(3565),s=t.n(i),c=t(9216),p=t.n(c),d=t(4589),u=t.n(d),b=t(1402),h={};h.styleTagTransform=u(),h.setAttributes=s(),h.insert=o().bind(null,"head"),h.domAPI=a(),h.insertStyleElement=p();n()(b.Z,h);b.Z&&b.Z.locals&&b.Z.locals;const f=new class{constructor(){this.boardSize=8,this.container=null,this.boardEl=null,this.cells=[],this.cellClickListeners=[],this.cellEnterListeners=[],this.cellLeaveListeners=[],this.newGameListeners=[],this.saveGameListeners=[],this.loadGameListeners=[]}bindToDOM(e){if(!(e instanceof HTMLElement))throw new Error("container is not HTMLElement");this.container=e}drawUi(e){this.checkBinding(),this.container.innerHTML='\n      <div class="controls">\n        <button data-id="action-restart" class="btn">New Game</button>\n        <button data-id="action-save" class="btn">Save Game</button>\n        <button data-id="action-load" class="btn">Load Game</button>\n      </div>\n      <div class="board-container">\n        <div data-id="board" class="board"></div>\n      </div>\n    ',this.newGameEl=this.container.querySelector("[data-id=action-restart]"),this.saveGameEl=this.container.querySelector("[data-id=action-save]"),this.loadGameEl=this.container.querySelector("[data-id=action-load]"),this.newGameEl.addEventListener("click",(e=>this.onNewGameClick(e))),this.saveGameEl.addEventListener("click",(e=>this.onSaveGameClick(e))),this.loadGameEl.addEventListener("click",(e=>this.onLoadGameClick(e))),this.boardEl=this.container.querySelector("[data-id=board]"),this.boardEl.classList.add(e);for(let e=0;e<this.boardSize**2;e+=1){const e=document.createElement("div");e.classList.add("cell","map-tile","map-tile-"+(this.boardSize,"center")),e.addEventListener("mouseenter",(e=>this.onCellEnter(e))),e.addEventListener("mouseleave",(e=>this.onCellLeave(e))),e.addEventListener("click",(e=>this.onCellClick(e))),this.boardEl.appendChild(e)}this.cells=Array.from(this.boardEl.children)}redrawPositions(e){for(const e of this.cells)e.innerHTML="";for(const t of e){const e=this.boardEl.children[t.position],r=document.createElement("div");r.classList.add("character",t.character.type);const a=document.createElement("div");a.classList.add("health-level");const l=document.createElement("div");l.classList.add("health-level-indicator","health-level-indicator-"+((n=t.character.health)<15?"critical":n<50?"normal":"high")),l.style.width=`${t.character.health}%`,a.appendChild(l),r.appendChild(a),e.appendChild(r)}var n}addCellEnterListener(e){this.cellEnterListeners.push(e)}addCellLeaveListener(e){this.cellLeaveListeners.push(e)}addCellClickListener(e){this.cellClickListeners.push(e)}addNewGameListener(e){this.newGameListeners.push(e)}addSaveGameListener(e){this.saveGameListeners.push(e)}addLoadGameListener(e){this.loadGameListeners.push(e)}onCellEnter(e){e.preventDefault();const n=this.cells.indexOf(e.currentTarget);this.cellEnterListeners.forEach((e=>e.call(null,n)))}onCellLeave(e){e.preventDefault();const n=this.cells.indexOf(e.currentTarget);this.cellLeaveListeners.forEach((e=>e.call(null,n)))}onCellClick(e){const n=this.cells.indexOf(e.currentTarget);this.cellClickListeners.forEach((e=>e.call(null,n)))}onNewGameClick(e){e.preventDefault(),this.newGameListeners.forEach((e=>e.call(null)))}onSaveGameClick(e){e.preventDefault(),this.saveGameListeners.forEach((e=>e.call(null)))}onLoadGameClick(e){e.preventDefault(),this.loadGameListeners.forEach((e=>e.call(null)))}static showError(e){alert(e)}static showMessage(e){alert(e)}selectCell(e,n="yellow"){this.deselectCell(e),this.cells[e].classList.add("selected",`selected-${n}`)}deselectCell(e){const n=this.cells[e];n.classList.remove(...Array.from(n.classList).filter((e=>e.startsWith("selected"))))}showCellTooltip(e,n){this.cells[n].title=e}hideCellTooltip(e){this.cells[e].title=""}showDamage(e,n){return new Promise((t=>{const r=this.cells[e],a=document.createElement("span");a.textContent=n,a.classList.add("damage"),r.appendChild(a),a.addEventListener("animationend",(()=>{r.removeChild(a),t()}))}))}setCursor(e){this.boardEl.style.cursor=e}checkBinding(){if(null===this.container)throw new Error("GamePlay not bind to DOM")}};f.bindToDOM(document.querySelector("#game-container"));const m=new class{constructor(e){this.storage=e}save(e){this.storage.setItem("state",JSON.stringify(e))}load(){try{return JSON.parse(this.storage.getItem("state"))}catch(e){throw new Error("Invalid state")}}}(localStorage),g=new class{constructor(e,n){this.gamePlay=e,this.stateService=n}init(){}onCellClick(e){}onCellEnter(e){}onCellLeave(e){}}(f,m);g.init()})()})();